<div *ngIf="isLoggedIn">
  <div>
    <mat-form-field appearance="fill">
      <mat-label>Available currencies</mat-label>
      <mat-select [disabled]="this.loading" [value]="currency" (valueChange)="updateCurrencyOrPage($event)">
        <mat-option *ngFor="let currency of currencies | keyvalue" [value]="currency.value">
          {{currency.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div class="rubber timeHeader" [hidden]="loading">
      {{this.startDate}} -> {{this.endDate}}
    </div>
    <div class="rubber timeHeader" [hidden]="!loading">
      Loading...
    </div>
  </div>
  <mat-paginator [length]="total"
                 [pageSize]="limit"
                 [pageSizeOptions]="[12, 24, 36, 42, 48, 54, 60, 72, 78, 84, 90, 102, 108, 120, 240, 360]"
                 [pageIndex]="n"
                 (page)="setCurrentPage($event.pageIndex, $event.pageSize)"
                 aria-label="Select page"
                 [disabled]="loading"
                 showFirstLastButtons>
  </mat-paginator>

  <div echarts [options]="waterfall" class="waterfall" [loading]="loading"></div>

</div>
